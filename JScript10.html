<!DOCTYPE html>
<html>
  <head>
    <title>JScript10.html</title>
	
    <meta name="keywords" content="keyword1,keyword2,keyword3">
    <meta name="description" content="this is my page">
    <meta name="content-type" content="text/html; charset=UTF-8">
    
    <link rel="stylesheet" type="text/css" href="./JsCss/JsCss10.css">

  </head>
  
  <body>
    <div class="inbox">
	    <div class="item">
	      <input type="checkbox">
	      <p>This is an inbox layout.</p>
	    </div>
	    <div class="item">
	      <input type="checkbox">
	      <p>Check one item</p>
	    </div>
	    <div class="item">
	      <input type="checkbox">
	      <p>Hold down your Shift key</p>
	    </div>
	    <div class="item">
	      <input type="checkbox">
	      <p>Check a lower item</p>
	    </div>
	    <div class="item">
	      <input type="checkbox">
	      <p>Everything in between should also be set to checked</p>
	    </div>
	    <div class="item">
	      <input type="checkbox">
	      <p>Try to do it without any libraries</p>
	    </div>
	    <div class="item">
	      <input type="checkbox">
	      <p>Just regular JavaScript</p>
	    </div>
	    <div class="item">
	      <input type="checkbox">
	      <p>Good Luck!</p>
	    </div>
	    <div class="item">
	      <input type="checkbox">
	      <p>Don't forget to tweet your result!</p>
	    </div>
  	</div>
  	<script type="text/javascript">
  		(function(){
  			const checkbox=Array.from(
  			document.querySelectorAll('input'));//querySelectorAll 不是陣列，所以用Array.from()轉成陣列
  			
  			let lastCheck = null;
  			let nowCheck = null;
  			
  			function checkHandler(e){
  				if(this.checked){//this.checked就是chexckbox有沒有打勾，打勾就會true
  					if(e.shiftKey && lastCheck !== null){//e.shiftKey 是 click 裡的屬性 						
  						nowCheck = checkbox.indexOf(this);
  						
  						//用slice()把第幾個checkbox到第幾個checkbox全勾起來
  						//用Math.min 和 max 來判斷 nowCheck、lastCheck 哪個最小哪個比較大
  						//用forEach()把勾起來 checkbox 的 checked 都 true
  						checkbox.slice(
  										Math.min(nowCheck,lastCheck),
  										Math.max(nowCheck,lastCheck)
  									  ).forEach(input=>{
  									  	input.checked=true;
  									  });
  					}
  					lastCheck = checkbox.indexOf(this);  				  					
  				}else{
  					lastCheck = null;
  				};
  			};
  			checkbox.forEach(input => {
  				input.addEventListener("click",checkHandler);  				
  			})  			
  			
  		})()
  	</script>
  </body>
</html>

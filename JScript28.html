<!DOCTYPE html>
<html>
  <head>
    <title>JScript28.html</title>
	
    <meta name="keywords" content="keyword1,keyword2,keyword3">
    <meta name="description" content="this is my page">
    <meta name="content-type" content="text/html; charset=UTF-8">
    
    <link rel="stylesheet" type="text/css" href="./JsCss/JsCss28.css" charset="UTF-8">

  </head>
  
  <body>
  
  <div class="wrapper">
    
    <video class="flex" width="765" height="430" src="http://clips.vorwaerts-gmbh.de/VfE_html5.mp4" loop controls></video>
    
    <div class="speed">
      <div class="speed-bar">1×</div>
    </div>
    
  </div>
  
  <script type="text/javascript">
  	let target = document.querySelector(".speed");
  	let bartext = document.querySelector(".speed-bar");
  	let video = document.querySelector(".flex");
  	function targetHandler(e){
  		//let y = e.pageY - this.offsetTop; 這裡的 y 值等於 e.offsetY
  		let precent = e.offsetY /this.offsetHeight;
  		let barheight =Math.round(precent * 100) +"%";
  		
  		bartext.style.height=barheight;
  		
  		precent = precent *3.5 +0.5;
  		precent = precent > 3.99 ? 3.99 : precent < 0.5 ? 0.5: precent;
  		
  		bartext.innerHTML = precent.toFixed(2) + "x";//toFixed( x )取小數 X 位
		video.playbackRate = precent;//playbackRate 影片播放的速率(速度)
  	}
  	target.addEventListener("mousemove",targetHandler);
  </script>
  </body>
</html>
